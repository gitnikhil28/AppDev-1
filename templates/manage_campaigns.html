{% extends 'spndash.html' %}


{% block content %}
<div class="d-flex align-items-center mb-3">
  <h3 class="mb-0">Active Campaigns</h3>
  <button type="button" class="btn btn-primary ml-3">
      <a href="{{ url_for('create_campaign') }}" style="color: white; text-decoration: none;">Create a new campaign</a>
  </button>
</div>
    {% if campaigns %}
        <ul>
            {% for campaign in campaigns %}
                <br>
                <li><div class="d-flex align-items-center custom-bar mb-2">
                  <span class="campaign-name">{{ campaign.name }}</span>
                  <div class="progress ml-2 progress-custom-width">
                      <div class="progress-bar" role="progressbar" aria-valuenow="{{ campaign_progress(campaign) }}" aria-valuemin="0" aria-valuemax="100"
                           id="progress-bar-{{ loop.index }}" style="width: {{ campaign_progress(campaign) }}%;">
                          {{ campaign_progress(campaign) }}%
                      </div>
                  </div>
                  <div class="ml-2 d-flex">
                      
                      <button type="button" class="btn btn-secondary btn-sm">View</button>
                  </div>
              </div>
              </li>
                
            {% endfor %}
        </ul>
    {% else %}
        <p class="mt-2">No campaigns available.</p>
    {% endif %}


    





{% endblock content %}

{% block style %}
<style>
  body {
    background: linear-gradient(135deg, #010515 0%, #220341e5 100%);
        color: #fff;
  }
  form{
    display : flex;
    flex-direction:column ;
    align-items: center;
  }

  h1{
    margin-top: 30px;
    text-align: center;
  }
  h3{
    margin-top: 10px;
    margin-left: 25px;
  }
  p{
    
    text-align: center;
  }
  .flash-message {
    
    color: #721c24;
    padding: 5px;
    text-align: center;
    margin: 5px auto;
    
    border-radius: 5px;
    width: fit-content;
  }
  .d-inline-flex{ 
    background-color: hwb(69 0% 0%) !important; 
    color: #0d0808 ;          
    padding: 0.5rem 1rem ;   
    border-radius: 1px ;      
  }
  .campaign-name {
    margin-right: 15px; 
}
.progress {
  height: 25px; 
  border-radius: 5px;
  width: 200%; 
}
.custom-bar .btn {
  margin-left: 0.5rem;
}
.mb-0{
  margin-right: 80px;
}
.progress-custom-width {
  width: 300px;
}
</style>
{% endblock %}